> ARCHIVED / 폐기 (2025-12-23)
>
> - 대체(단일 기준): `docs/05_modules/05_module_vault_master_strategy_phase1_v2.1.md`
> - 원래 경로: `docs/05_modules/05_module_vault_existing_user_strategy_v2.0.md`

# Vault() 기존 회원 리텐션 전략 - 기술 설계서

- 문서 타입: 모듈(기능: FE+BE+DB)
- 버전: v2.0 (기존 회원 전용 전략)
- 작성일: 2025-12-19
- 대상 독자: 기획자, 백엔드/프론트엔드 개발자

## 0. 개요 및 핵심 철학

본 문서는 신규 유저가 아닌 **기존 회원(Active/Dormant Users)**을 대상으로 한  시스템 설계를 다룬다.
신규 유저용 가 "첫 충전 유도"라면, 기존 회원용 는 **"이탈 방지 및 복귀 유도(Lock-in)"**가 핵심이다.

### 핵심 정체성: Activity Lock Vault
- **정의:** 유저의 과거 활동(플레이, 출석, 팀 기여)을 화폐 가치로 환산하여 에 가둬두는 시스템.
- **심리:** "보너스 이벤트"가 아니라, **"내가 이미 벌어둔 자산이 묶여있다"**는 인식을 심어준다.
- **목적:** 티켓 소진 시점이나 이탈 직전에 "손해"를 인지시켜 잔존하게 만든다.

---

## 1.  생성 트리거 (Activation)

기존 회원 는 가입 시 자동 지급되는 것이 아니라, **특정 활동 시점(정산 시점)**에 생성된다.

### 1.1 생성 조건 (예시)
1.  **시즌 패스 레벨 3 도달 시**
2.  **팀 배틀 3회 이상 참여 시**
3.  **최근 7일 내 게임 5판 이상 플레이 시**
4.  **티켓 소진(0개) 후 이탈 징후 발생 시**

👉 **"활동 →  생성"**의 인과관계를 명확히 하여, 뜬금없는 이벤트로 느껴지지 않게 한다.

---

## 2.  구조 (Existing User Specific)

### 2.1 [기존] 골드 : "정산 완료된 내 돈"
- **성격:** 미션 없음. 조건 없음. 자동 적립.
- **역할:** 신뢰 형성 및 보유 효과(Endowment Effect) 극대화.
- **UI 연출:** "정산 내역서" 형태로 보여준다.
    ```text
    🔓 골드  (정산 완료)
    적립 금액: ₩12,400
    
    [산정 기준]
    - 룰렛 플레이 8회: ₩4,000
    - 팀 기여도 3회: ₩3,000
    - 시즌 패스 Lv.2 달성: ₩5,400
    ```

### 2.2 [기존] 플래티넘 : "여기서 멈추면 손해"
- **성격:** 실질적인 과금 및 리텐션 유도 구간.
- **적립 금액:** 약 30,000원 내외 (유저 등급에 따라 변동 가능).
- **해금 조건:**
    1.  단일 50,000원 충전
    2.  출석 2일 추가 (연속성 강조)
- **소멸 정책:** 생성 후 **72시간(3일)** 뒤 자동 소멸.
- **카피라이팅:** "충전하면 드림" (X) → **"조건 안 맞추면 사라짐" (O)**

### 2.3 [기존] 다이아 : "성장 앵커"
- **성격:** 장기 체류를 위한 시각적 목표.
- **적립 방식:** 누적 활동(충전, 플레이)에 따라 게이지가 참.
- **UI 연출:** 금액보다는 **진행률(%)** 위주로 노출.
    ```text
    💎 다이아 
    현재 진행률: 27% (최근 30일 기준)
    ```
- **역할:** 시즌 패스(단기 보상)와 달리, 장기적인 이탈 억제 장치로 작용.

---

## 3. 시스템 연동 전략

### 3.1 티켓 소진 시점 (Zero Ticket Strategy)
**"할 게 없어서 나가는(Lock-out)" 상황을 방지한다.**

- **문제:** 티켓 0개 시 "문의하기"만 뜨면 성격 급한 유저는 즉시 이탈.
- **해결:** 티켓 0개 감지 시 **" 현황판"**을 최상단에 강제 노출.
    - **메시지:** "게임은 멈췄지만, 회원님의 자산(₩31,000)은 아직 에 남아있습니다."
    - **Action:** "무료 충전소(준비중)" 또는 " 해금(충전)"으로 유도하여 **"이탈 대신 다른 행동"**을 하게 만듦.

### 3.2 시즌 패스와의 관계
- **시즌 패스:** "앞으로 받을 보상" (미래)
- **:** "이미 벌어둔 자산" (과거)
- **상호보완:** 두 시스템이 충돌하지 않고, 서로 다른 심리적 기제를 자극함.

### 3.3 팀 배틀 및 일일 투자 (Social & Daily Investment)
- **팀 기여:** 팀 배틀 참여 횟수가 골드  적립액에 반영됨을 명시. ("팀을 위해 뛰었더니 내 가 찼다")
- **일일 숙제(Daily Quest):** "오늘 룰렛 3판" 등 간단한 미션 완료 시, 다이아 의 진행률(%)을 소폭 상승시킴.
    - **효과:** 매일 접속해야 할 명분(Investment)을 제공하고, 를 키우는 재미(Tamagotchi Effect) 부여.

---

## 4. 리텐션 트리거 (알림/DM)

"충전하세요"라는 직접적인 요구를 배제하고, **"자산 관리/소멸 경고"** 톤을 유지한다.

### 4.1 장기 미접속자
- **메시지:** "○○님, 최근 활동 정산으로 에 ₩28,700이 적립되어 있습니다. 확인하지 않으면 48시간 후 소멸됩니다."

### 4.2 티켓 0 + 미충전 상태
- **메시지:** "현재 플레이는 중단되었지만,  적립은 유지 중입니다. 지금 포기하면 적립된 금액이 모두 소멸됩니다."

### 4.3 출석 중단 직전
- **메시지:** "오늘 출석하지 않으면 플래티넘  해금 처리가 실패로 돌아갑니다."

---

## 5. 데이터 모델 확장 (Schema)

기존 `vault_status` 테이블(신규 유저용)을 확장하거나, 별도 컬럼을 사용하여 기존 회원 로직을 수용한다.

### 5.1 `vault_status` 확장
| 컬럼 | 타입 | 설명 |
|---|---|---|
| user_type | ENUM | `NEW`, `EXISTING` (유저 타입에 따라 로직 분기) |
| gold_calc_log | JSON | 골드  산정 내역 (예: `{"roulette": 8, "team": 3}`) |
| created_trigger | VARCHAR |  생성 트리거 (예: `SEASON_LV3`, `TICKET_ZERO`) |

---

## 6. 개발 체크리스트

- [ ] **유저 구분 로직:** 신규 유저(가입 7일 이내) vs 기존 유저 구분하여 다른  로직 적용.
- [ ] **활동 로그 집계:** 룰렛, 팀 배틀, 시즌 패스 활동을 집계하여 골드  금액을 산출하는 로직 구현.
- [ ] **트리거 시스템:** 특정 조건(레벨업, 티켓 소진 등) 달성 시 를 생성(Activate)하는 이벤트 리스너 구현.
- [ ] **UI 차별화:** 기존 회원에게는 "미션"보다는 "정산 내역"을 강조하는 UI 제공.
