# 2026 Daily Mission System v5 (운영안 우선 정리본)

> 원본: `docs/archive/202601/design/archive/2026!!daily_mission_system_ko.md`  
> 목적: 문서의 뒤섞인 순서/중복을 “운영 효율” 기준으로 재정렬.  
> 원칙: **중복 내용은 삭제하지 않고, v5에서 HTML 주석으로 중복 표시하여 보존**.

---

## 0) TL;DR (운영 관점 핵심만)

- **최우선 목표**: 유저가 진입 즉시 “지금 당장 할 것”을 제공해 첫 3초 이탈을 줄이고, 
                   미션 → 보상 → 재방문 루프를 고착화.
- **Strict Rule(2026)**: 경험치(XP)는 **입금으로만** 획득. 
- 미션은 **직접 보상(다이아 등)** 중심으로 설계.
- **핵심 루프**: 
- `Instant Action(즉시 성공 경험)` → `Daily/Weekly/Special 미션 진행` 
- → `보상(다이아/티켓/연출)` → `재방문/바이럴(TMA)` → `장기 고착(Grand Cycle)`.

---

## 1) 운영 우선순위 (가장 효율적인 실행 순서)

✅### Phase 0. “지금 당장” 공급 (Instant Action)0
1. 일일 환영 선물(원탭) + 티켓 제로 구출 루프

✅## 2.0.1 신규 유저용: “입금 + 미션” 잠금 보너스(유저당 최대 1만)
신규유저용 페이지를 따로 구현가능할까? 같은 시스템 안에서 굳이 잘 쓰고 있는 유저들에게
1만을 이 시스템때문에 따로 주는게 싫어 
> 목표: 신규 유저에게 “지금 당장 할 것”을 주되, 
> **돈복사/대량 계정**을 막기 위해 **입금이 없으면 단 1원도 현금화되지 않도록** 설계한다.
> 단 신규유저 1만은 제외 

✅#### 지급/해금 구조(운영안)
- **지급 형태**: 현금/포인트 즉시 지급 금지 → 
- **`vault_locked_balance`(잠금 금고)로만 적립**
- **보너스 상한**: **유저당 최대 10,000**
- **입금 필수(해금 시작 조건)**: 입금 확인 전에는 잠금 보너스가 있어도 - 
- **해금(locked → cash) 불가** 단 신규 유저의 경우에는 1만 한도로 예외 적용.
- **미션 연동(해금 진행)**: 총 4개 미션(각 25%)을 완료할 때마다 잠금 보너스의 일부를 
- **locked → cash 이동** 신규유저만
✅#### 해금 미션(총합 100%)
1. **게임 1회 플레이**: 25% 해금
2. **게임 3회 플레이**: 25% 해금
3. **스토리 공유 OR 채널 가입**: 25% 해금
4. **다음날 재접속(출석)**: 25% 해금

> 변형안: “다음날 재접속” 대신 “당일 미션 1개 - 입금”로 바꿔 **당일 100% 해금**도 가능(운영 선택).

✅#### 악용 방지(최소 세트)
- **1회성**: 유저당 1번만(“첫 입금” 기준)
- **텔레그램 기준**: `telegram_id` 연동된 계정만 대상
- **시간 제한**: 보너스 발생 후 **24시간 내** 미션을 완료하지 못하면 **만료**
✅#### 운영 파라미터(초기값 제안)
- 잠금 보너스 산식(예): `min(10,000, 입금액 × R)` (권장 R=0.2, 즉 20%)
- 해금 단위: 25% 고정(= 4단계) 또는 20% (5단계)로 조정 가능
- 만료 기간: 24시간 (운영 상황에 따라 연장 가능)

😀2. 실시간 증명(금고 적립 연출/잭팟 피드)로 “살아있는 서비스” 느낌 강화 (1/7일 이후 개발)
😀3. 플래시 미션(타임어택)로 단기 트리거 제공 (1/7일 이후 개발)

### Phase 1. 미션 시스템 코어(데일리/주간/특별) 운영 안정화
1. ✅ 미션 정의/진행/클레임 데이터 모델 확정
2. ✅ 리셋 주기(KST/UTC)와 집계 규칙 확정
3. ✅ UI(미션 보드/카드/진행바)와 API 연동

- ✅ **모델**: `Mission`, `UserMissionProgress` (파일: `app/models/mission.py`)
- ✅ **서비스**: `MissionService` 구현 (파일: `app/services/mission_service.py`) 
      `get_user_missions`, `update_progress`, `claim_reward`, `claim_daily_gift` 포함. 
       (주의: 리셋 기준은 현재 KST 기반)
- ✅ **API**: `/api/mission/` (GET), `/api/mission/{id}/claim` (POST), 
      /api/mission/daily-gift` (POST) (파일: `app/api/routes/mission.py`)
- ✅ **프론트**: `MissionPage.tsx`, `MissionCard.tsx`, `missionStore.ts` 구현 및 라우팅
      (`src/router/UserRoutes.tsx`)
- ✅ **연동 포인트**: `roulette_service`, `dice_service`, `lottery_service` 등에서 
      `MissionService.update_progress` 호출 (다수의 game 서비스 통합되어 있음)
- ✅ **시드·검증 스크립트**: `scripts/seed_missions*.py`, `scripts/verify_mission_reset.py`,
      `scripts/verify_mission_system.py`, `scripts/verify_mission_diamond.py`


### Phase 2. 경제/락업(Grand Cycle)로 장기 고착
1. 😀1주:4주:12주 자산 사이클 설계 (1/7일 이후 개발)
2. 😀체리피커 방어(레벨/승인/필터링) 운영 룰 적용 (1/7일 이후 개발)

### Phase 3. TMA(텔레그램 미니앱) 특화로 바이럴/마찰 제거
1. ✅ `shareToStories`, 
2. ✅`switchInlineQuery` (프론트 트리거 구현) [서버업로드후 가능]
3. ✅`CloudStorage` 캐싱 [서버업로드후 가능]
4. ✅ 햅틱 (Haptic) 적용
5. ✅ 봇 넛지(90% 달성 푸시) [완료]
6. Stars 결제 루프(선택/현재미정) (1/7일 이후 개발)

## 6) Phase 3 — TMA(텔레그램 미니앱) 특화: Tech-Max

### 6.1 바이럴 소셜 엔진
✅- **스토리 공유 (`shareToStories`)**: 금고 당첨 내역 자랑 시 자동 API 검증 후 즉시 보상.
- **인라인 쿼리 초대**: 링크 복사가 아닌 연락처 리스트에서 직접 친구를 선택하는 고효율 초대 방식. (`WebApp.switchInlineQuery`)
### 6.2 네이티브 몰입 경험
✅- **신체적 반응 (Haptic)**: 미션 등급별 차별화된 진동 패턴 적용. (보상 수령 = 짜릿한 손맛)
- **클라우드 캐싱 (`CloudStorage`)**: 미션 상태를 로컬에 캐싱하여 서버 통신 없이 즉각적인 UI 반응 구현.
### 6.3 지능적 개입 (The “Nudge”)
✅- **봇 푸시 알림**: 미션 90% 달성 시(예: 9/10판) 봇이 개인 메시지로 “마지막 1판!” 넛지 발송.
### 6.4 Stars(선택) 결제 루프 [1/7일 이후 개발]
- **Stars 기반 미션 부스트**: ‘즉시 완료’ 또는 24시간 ‘부스터’ 등 원탭 결제 루프(선택적으로 도입).


✅### Phase 4. 금고/출금 운영 완성도(신뢰)
✅1. 출금 신청 → 관리자 승인/거절 → 정산(외부 이체) 플로우 완결
✅2. 만료/잠금 정책, 모니터링/리포팅 정리

### Phase 5. 성능/보안/안정화(운영 사고 방지)
✅1. 로딩 최적화(Lazy load, WebP, Gzip/Brotli)
✅2. Telegram Auth(`initData`) 강화 + 명시적 로그아웃/연결 플로우
✅3. 오디오 안정화(Preload/Unlock/메모리 관리)

---

## 2) Phase 0 — 콘텐츠 공백(Gap) 해소: Instant Action

> 유저가 진입했을 때 “준비 중”이 아닌 “지금 당장 할 것”을 제공하여 첫 3초의 이탈을 막습니다.

### 2.1 3초 이내의 성공 경험 (Immediate One-Tap)
- **일일 환영 선물 (Daily Instant Gift)**: 
   앱 진입 즉시 버튼 한 번으로 티켓/다이아 수령. (미션 보드로 유도)
- **성공 경험 선지급**: 복잡한 게임 미션 이전에 “입장 완료” 보상을 먼저 주어 유저에게 ‘진척감’ 부여.
   **일일 환영 선물(원탭)** | 부분 구현(옵션) 
  `src/components/layout/SidebarAppLayout.tsx` + `src/config/featureFlags.ts`
   ( `VITE_ENABLE_TRIAL_GRANT`) / `app/api/routes/trial_grant.py` / `app/services/trial_grant_service.py` 
  기본값 OFF. “원탭 받기” UI는 별도 버튼 형태로는 없음(현재는 자동 1회 지급 흐름). 

  **TRIAL_GRANT 정책(서버/프론트 공통 방어, 2026-01 반영)**
  - 대상 토큰은 `ROULETTE_COIN` / `DICE_TOKEN` / `LOTTERY_TICKET` **3종만** (키는 대상 아님)
  - `GOLD_KEY` / `DIAMOND_KEY`는 trial-grant로 **지급되지 않음**(요청되어도 서버에서 차단)
  - 유저 1인당 **하루 총 3장(3종 합산)** 상한
  - 추가 레버(서버 env): `ENABLE_TRIAL_GRANT_AUTO`, `TRIAL_DAILY_CAP`(토큰별), `TRIAL_WEEKLY_CAP`(토큰별), `TRIAL_GRANT_*`(확률/첫회 보장)

<기존유저용>
현재 시스템이 '완성형'을 지향하다 보니, 유저가 진입했을 때 
**"지금 바로 할 수 있는 것"**이 부족하다는 문제를 해결합니다.

### 1. "3초 이내의 성공" (Immediate One-Tab)
- **일일 환영 보상 (Instant Gift)**: 앱 진입 시 
- 복잡한 미션 달성 조건 없이 버튼 한 번으로 소량의 티켓이나 다이아를 즉시 지급하는 UI 배치.
- **성공 경험의 선지급**: "게임 5판" 미션을 주기 전에, 
- "입장 완료" 미션으로 이미 보상을 한 번 주고 시작하여 '진축감'을 형성.

### 2. "미래 정산" -> "실시간 증명" (Live Proof)
**실시간 잭팟 피드**: PvP 히스토리 대신, "누구가 방금 금고에서 5만 포인트를 출금 신청했습니다!"라는 시스템 알림 팝업을 상단에 띄워 '실제로 돌아가는 판'임을 증명.

### 3. "플래시 미션" (Flash Mission)
- **10분 타임어택**: "지금부터 10분 내에 다이스 1판 플레이 시 티켓 3장!"과 
- 같은 짧은 주기의 트리거형 콘텐츠 도입.
- **유령 시간대 방어**: 접속자 수가 적은 시간대에 자동으로 발동되는 '피크타임 부스터' 연동.

### 4. 체감형 콘텐츠 갭 보완
- **미션 = 게임화**: 미션 리스트를 단순 체크리스트가 아닌, 
- '지도' 형태나 '스탬프 북'처럼 시각적으로 즐거운 경험으로 리팩토링.
- **티켓 제로 구출의 게임화**: 티켓이 없을 때 광고를 보는 대신, 
- 봇과의 간단한 가위바위보 등을 통해 티켓을 얻는 '미니 콘텐츠' 추가.


### 2.2 “미래 정산” → “실시간 증명” (Live Proof)
✅ **금고 적립 연출**: 게임 승리 시 코인이 금고로 쏟아져 들어가는 시각적 효과 강화.
✅ **금고 적립 연출** | 부분 구현 - 이대로 완료체크 
   `src/components/vault/VaultAccrualModal.tsx` + `src/pages/RoulettePage.tsx` 
   / `src/pages/ DicePage.tsx` / `src/pages/LotteryPage.tsx` (`vaultEarn` → toast) 
   “코인이 금고로 쏟아져 들어가는” 물리 애니메이션/플라잉 연출은 아님(상단 토스트+카운팅). |

😀**실시간 잭팟 피드**: [1월 7일 이후 개발예정]
  PvP 히스토리 대신, 타 유저의 실시간 출금/당첨 소식을 상단 팝업으로 노출
  **실시간 잭팟 피드** | 미구현 | (검색 기준 관련 UI/route 없음) 
  “누가 방금 출금/당첨” 팝업 피드는 현재 프론트에 구현 흔적이 없음. |

😀**티켓 제로 구출**: 티켓이 0일 때 즉시 발동되는 ‘광고 시청’ 또는 ‘초간단 미니게임’ 루프.
| **티켓 제로 구출 루프** | 미사용(비활성) | `src/components/game/TicketZeroPanel.tsx` 
| 컴포넌트가 `return null; // Feature temporarily disabled`로 비활성화되어 실제 UI가 노출되지 않음.

> 참고: Ticket Zero UI가 재활성화되더라도, trial-grant는 **티켓 3종만** 대상으로 하며(키 제외), 일일 총 3장 상한이 적용됩니다.

😀### 2.3 플래시 미션 (Flash Mission)
- **타임어택**: “지금부터 15분 내에 다이스 1판 플레이 시 2배 보상”과 같은 단기 트리거.
| **플래시 미션(타임어택)** | 미구현 | (검색 기준 관련 모델/스케줄/UI 없음) 
| 시간 제한 미션 정의/집계/노출/만료 처리 전부 TODO. |

---

✅## 3. Phase 1 — 데일리 미션 시스템 코어

### 3.1 핵심 카테고리
✅- **Daily (일일)**: 24시간마다 초기화됩니다 (KST/UTC 기준). 주로 게임 플레이 및 출석체크에 집중합니다.
✅ **Weekly (주간)**: 7일마다 초기화됩니다. 누적 진행 상황(예: 총 게임 횟수)에 집중합니다.
✅- **Special (특별)**: 1회성 또는 이벤트성 작업입니다 (예: “공식 채널 구독”, “친구 5명 초대”).

### 3.2 미션 유형 및 보상 (예시)
| 미션 명칭 | 카테고리 | 보상 | 로직 (Logic) | 상태 
|✅ **공식 채널 구독** | 특별 | 5 다이아몬드 | 텔레그램 봇 API `getChatMember`로 확인. | ? |
|✅ **친구 5명 초대** | 특별 | 50 다이아몬드 | 추천인 링크/초대 코드를 통해 추적. | ? |
|✅ **일일 출석 보상** | 일일 | 1 다이아몬드 | 하루 한 번 클릭으로 즉시 수령. | ? |
|✅ **게임 5회 플레이** | 일일 | 5 다이아몬드 | 매일 카운트 초기화. | ? |
|✅ **게임 10회 플레이** | 일일 | 10 다이아몬드 | 매일 카운트 초기화. | ? |
|✅ **스토리에 공유** | 특별/일일 | 5 다이아몬드 | TMA `shareToStories` API 콜백을 통해 트리거. | ? |
|✅ **게임 500회 플레이** | 주간 | 50 다이아몬드 | 일주일 동안의 누적 횟수 기반. | ? |
| **컬렉션 수집** | 특별 | ??? | 보유 아이템 인벤토리 상태 기반. | [ ] |

### 3.3 기술 아키텍처 (Backend/Frontend)

#### 백엔드 (Python/FastAPI)
✅- **Table: `mission`**: 미션 템플릿 정의 (제목, 보상 유형, 보상 수량, 목표 수치, 카테고리).
✅- **New**: `action_type` 컬럼 추가 (“PLAY_GAME”, “LOGIN” 등) 
   → 하나의 행동으로 여러 미션 동시 달성 지원.
✅- **Table: `user_mission_progress`**: 개별 사용자 진행 상황 추적 
   (user_id, mission_id, 현재 수치, 수령 여부, 최종 업데이트 일시).
✅- **Service: `MissionService`**
  - `get_available_missions(user_id)`: 현재 사용자의 진행 상황을 포함한 미션 목록 반환.
  - `update_progress(user_id, action_type, delta)`: `action_type`에 매칭되는 
     **모든 활성 미션**의 진행도를 일괄 업데이트.
  - `claim_reward(user_id, mission_id)`: 조건 검증 및 보상 지급 처리.

#### 프론트엔드 (React/Vite)
✅- **Page: `MissionPage.tsx`**: 탭 기능(전체, 일일, 주간, 특별)이 포함된 메인 대시보드.
✅- **Component: `MissionCard.tsx`**: 미션 아이콘, 진행 상태 바, 
    ‘수령(Claim)’/‘시작(Start)’ 버튼 표시.
✅- **Frontend Integration**: MissionPage와 MissionCard 컴포넌트가 이미 
    `missionStore`를 통해 API(`/api/mission/`)와 연동되어 있습니다. (실제 데이터 바인딩 구현 완료,
     일부 동작 검증 필요)
✅- **Economy Loop 검증**: Mission → Diamond 지급 → 지갑 반영 → 상점(티켓 구매) 
    루프 경로는 서비스 레벨(보상지급, GameWalletService 연동)이 구현되어 있습니다. (통합 E2E 검증 필요)
✅- **State Integration**: `missionStore` (Zustand)에서 `fetchMissions` 및 `claimReward`를 
    사용하여 UI와 백엔드 상태를 동기화합니다. 프런트는 클레임 후 즉시 UI 갱신을 시도하지만, 즉시 지갑 잔액 반영(헤더/Wallet 위젯)은 추가 확인/테스트 필요합니다.

✅1. **API 응답 스키마(Pydantic)**로 정형화 
  (현재 `read_missions`는 `List[dict]` 반환) — 문서 및 타입 안정성 강화 필요
✅2. **보상 즉시 반영 보장**: 클레임 후 Wallet/헤더 잔액 즉시 반영
  (응답에 잔액 포함 또는 소켓/푸시 사용) 검토
✅3. **관리자용 미션 관리 UI/API 부재**: 미션 생성·수정·비활성화용 Admin API와 간단한 
  관리 페이지 추가 권장
✅4. **테스트 보강**: MissionService 단위 테스트, API 통합 테스트, E2E(미션→보상→상점) 시나리오 보강
✅5. **타임존 정책 명확화**: 리셋 시점(KST) 정책을 운영 규정에 명시하고 필요한 경우 설정 전환 기능 추가


---

✅## 4) Phase 1.5 — Season Pass(레벨)과 미션의 관계 (Strict Rule 반영)

> 현재의 레벨 시스템(Season Pass)과 데일리 미션은 “유저 행동 추적/보상” 목적이 중복됩니다.  
> 다만 **2026 Strict Rule**로 인해 XP는 입금 전용이므로, 미션은 **다이아 보상 중심**으로 운영합니다.

✅### 4.1 통합 개념 (원문 유지)
- **기존**: 특정 행동 시 단순히 ‘스탬프’를 찍고 레벨업.
- **개선**: 개별 미션(Daily/Weekly/Special)이 스탬프 역할을 하며, 
  - 미션 완료 시 **[즉시 보상(다이아 등)]**를 획득합니다.  
  - (XP는 Strict Rule에 따라 0으로 설정 가능/또는 노출 제거)

✅### 4.2 통합 보상 구조 (원문 표 유지)
| 미션 유형 | 직접 보상 (예시) | 시즌 XP | 리셋 주기 |
| :--- | :--- | :--- | :--- |
| **출석체크** | 1 다이아몬드 | - | 매일 |
| **게임 5회** | 5 다이아몬드 | - | 매일 |
| **스토리 공유** | 5 다이아몬드 | - | 매일 |
| **주간 500회** | 50 다이아몬드 | - | 매주 |
| **채널 구독** | 5 다이아몬드 | - | 1회성 |

✅### 4.3 기대 효과(원문 요약 유지)
- 단순화: 유저가 “무엇을 해야 하는지” 한 곳(미션 보드)에서 파악 가능
- 동기부여: 미션 보상을 즉시 체감하여 몰입도 향상
- 데이터 일관성: 활동 추적 로직을 미션 엔진 하나로 통합하여 관리 효율성 증대

---

## 5) Phase 2 — 운영 전략 기반 미션 확장 (Grand Cycle)

> 단순 보상을 넘어 유저를 시스템에 장기적으로 묶어두는 락업(Lock-up) 장치.

### 5.1 자산 그랜드 사이클 (1주:4주:12주)
- **[연속] 브릿지 주간 생전 미션**: 12/25~12/31 매일 참여 시 1월 시드(30,000원) 지급. (장기 고착 시발점)
- **[누적] 월간 금고 해방**: 한 달간 미션 100회 완료 시 월간 금고(Gold) 인출 권한 +20% 해금.
- **[장기] Diamond Key 수집가**: 분기별 스페셜 미션 완수 시 Grand Vault 최종 열쇠 지급.

### 5.2 체리피커 방어 및 진성 유저 필터링
- **무제한 티켓 공급**: 신규/저레벨 유저(Lv.1~6)에게는 티켓 번들을 무제한 공급하여 활동성 확보.
- **고가치 보상 잠금(Tiered Rewards)**: Lv.7 이상의 고가치 미션은 ‘관리자 승인 대기’ 상태를 거치도록 설계하여 수동 검토 및 부정행위 방지.

---
✅## 7) Phase 4 — 금고(Vault) / 출금 운영 플로우
> 금고 적립부터 출금 신청, 관리자 승인, 외부 이체까지의 전체 플로우 완성.
✅### 7.1 출금 신청 이후의 플로우 (원문 유지)
  - 유저 신청: `/api/vault/withdraw` 호출 → `VaultWithdrawalRequest` 생성(상태: `PENDING`) 
  - → 보유 캐시 차감.
  - 현재 상태(Missing Link): 관리자가 승인하는 API(approve)가 없습니다. 따라서 DB에 요청만 쌓이고, 실제 입금 처리를 확정 짓거나 거절 시 환불해주는 로직이 작동하지 않습니다.
  - 정상 플로우(To-Be): 관리자 승인 API 호출 → 상태 `APPROVED` 변경 → 외부 뱅킹 API 연동(또는 수동 이체 확인).

✅### 7.2 운영 체크리스트(원문 표 유지)
  구분 | 항목 | 상태 | 비고
  --- | --- | --- | ---
  금고 (Vault) | 적립 (Win) | ? 완료 | 게임 승리 시 잠금 금액 증가 정상
  금고 (Vault) | 출금 신청 | ? 완료 | 최소금액(1만) & 당일입금 체크 로직 적용됨
  금고 (Vault) | 관리자 승인 | ? 완료 | 관리자 페이지(VaultRequestManager) 구현 및 연동됨
  미션 (Mission) | 다이아 보상 | ? 완료 | XP 대신 다이아몬드 지급 (설계 변경 반영됨)
  미션 (Mission) | 초기화 로직 | ? 확인 | 일일 데이터 베이스 초기화 및 당일 미션 수집 확인
  레벨 (Level) | 입금 연동 | ? 완료 | 입금 시 XP 지급 정상
  최적화 (Perf) | 로딩 성능 | ? 완료 | Lazy Load & Gzip 적용 완료
  최적화 (UX) | 주사위 UI | ? 완료 | One-screen 컴팩트 리팩토링 완료
  시스템 (Auth) | 로그아웃 | ? 완료 | 명시적 로그아웃 및 연결 flow 구현 완료
  로직 (Logic) | 주사위 패널티 | ? 완료 | 패배 시 -50원 미수금(차감) 반영 완료

---

✅## 8. Phase 5 — 성능/보안/안정화(운영 품질)

✅### 8.1 프로젝트 최적화 및 보안(원문 핵심 유지)
✅#### 앱 로딩 성능 최적화
- Vite 빌드 리포트를 통한 번들 사이즈 분석
- 주요 페이지(룰렛, 주사위, CRM)에 `React.lazy`/`Suspense` 적용
- `public` 이미지 최적화(WebP 변환)
- Nginx Brotli/Gzip 압축 설정 강화

✅#### 텔레그램 보안 및 자동 로그인(긴급)
- 백엔드에서 `initData` 검증 강화(`app/core/telegram.py`)
- 첫 방문 유저를 위한 “환영/연결” 단계 도입(`ConnectPage.tsx`)
- “Join/Start” 확인 없이 자동 접속되는 현상 수정(봇 멤버십 체크 연동 필요)

✅### 8.2 오디오 사운드 안정화 및 검증책(원문 유지)
- **사운드 리소스 프리로딩(Preloading)**: 앱 로딩 시 핵심 SFX 리소스를 미리 로드(`Howl.preload: true`)
- **강력한 오디오 컨텍스트 해제(Unlock)**: 첫 사용자 터치에서 `Howler.ctx.resume()` 강제 호출
- **메모리 관리 최적화**: 재생 종료 SFX 즉시 `unload()`하여 누수/채널 점유 최소화
- **BGM/SFX 분리 처리**: BGM은 `html5: true`, SFX는 메모리 기반 재생

---

✅## 9) SOP — 작업 프로토콜 (Standard Operating Procedure)
  모든 개발 및 배포 과정은 안정성을 위해 다음 규칙을 엄격히 준수합니다.


✅1. **로컬 우선 개발 (Local First)**: 모든 기능은 로컬 환경에서 먼저 구현하고 자체 검증을 완료합니다.

✅2. **서버 반영 5단계 사이클**:
   - **Step 1. 정보 조회 (Inquiry)**: 서버의 현재 설정, 로그, DB 상태를 정밀하게 파악합니다.
   - **Step 2. 현황 기록 (Recording)**: 파악된 정보를 문서 또는 로그에 기록하여 
   - 기준점(Baseline)을 설정합니다.
   - **Step 3. 수정 계획 수립 (Planning)**: 서버 환경에 맞춘 구체적인 
   - 셸 스크립트 또는 코드 수정안을 작성합니다.
   - **Step 4. 실행 (Execution)**: 계획된 작업을 수행합니다.
   - **Step 5. 사후 기록 (Finalizing)**: 변경 사항과 결과를 다시 기록하고 
   - 정상 작동 여부를 최종 검증합니다.

### 보류 항목(원문 유지)
- PvP 히스토리 구현: 글로벌 실시간 승패 피드(참고 이미지 기반)
- 자동프로필 구현 - 완료 


