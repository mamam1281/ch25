# Admin User Identity Rollout Plan (G1)
문서 타입: 릴리즈/운영 계획
작성일: 2026-01-03

## 1. 목표
어드민 전반에서 사용자 대상 작업을 “식별자 입력 → resolve로 단일 확정 → 확정 후 실행” 표준으로 전환한다.

## 2. 단계적 롤아웃 순서(권장)
1) **백엔드 선배포**
   - `user_id` 기반 기존 API는 유지(하위 호환)
   - 신규 `.../by-identifier/...` 또는 `user_identifier` 입력을 추가 제공
   - Resolver 404/409 로그 기반 모니터링을 먼저 켠다(F3)

2) **프론트 점진 적용**
   - 신규 UX(D2)로 “확정 전 실행 방지” 적용
   - 사용자 표시는 `AdminUserSummary` 기반 D3 컬럼으로 통일

3) **운영 절차 갱신/교육**
   - 운영자 가이드에 식별자 입력 규칙/409(중복 차단) 정책 반영

## 3. 하위 호환 보장 범위
- 기존 `user_id` 기반 엔드포인트는 계속 동작해야 한다.
- 신규 기능은 아래 중 하나(또는 둘 다)로 확장하되 기존 요청 형식을 깨지 않는다.
  - `user_identifier` 필드 추가
  - `.../by-identifier/{identifier}` 형태 엔드포인트 추가

## 4. 검증 체크
- 테스트: `python -m pytest -q` (전체 통과)
- 운영 확인(대표 1~2건):
  - 기존 `user_id` 기반 기능 1건 정상 동작
  - 동일 기능을 identifier로도 정상 동작

## 5. 롤백 전략(요약)
- 프론트 롤백: 기존 화면/플로우로 되돌리되 백엔드는 하위 호환 유지
- 백엔드 롤백: 신규 엔드포인트/필드가 제거되더라도 기존 `user_id` 기반 API가 남아 있으면 운영 영향 최소
