# 2026-01-01 버그 수정 및 QA 리포트

## 요약
사용자 피드백으로 접수된 8가지 항목(버그 수정 4건, 로직 검증 4건)에 대한 처리를 완료했습니다.

## 버그 수정 내역

### 1. 다이아몬드 지급 토스트 메시지 인코딩 수정
- **증상**: 미션 보상 수령 시 토스트 메시지가 깨져서 출력됨 ("ë³´ìƒ...").
- **원인**: `MissionCard.tsx` 내 하드코딩된 문자열의 인코딩 문제.
- **조치**: 깨진 문자열을 올바른 한글("보상 수령 완료", "보상 수령 실패")로 수정하였습니다.

### 2. 룰렛 게임 차감 로직 수정
- **증상**: 룰렛 게임 패배(꽝/Segment 5) 시 볼트 잔액이 차감되지 않음 (-50원 미적용).
- **원인**: `VaultService`에서 주사위(DICE) 외 게임은 기본적으로 승리(+200)로 간주하는 로직의 허점.
- **조치**: `ROULETTE` 게임 타입에 대해 보상액이 0인 경우 패배로 간주하여 -50원을 차감하도록 로직을 추가했습니다.

### 3. 관리자 복권 설정 저장 오류 수정
- **증상**: 복권 설정에서 '일일 플레이 제한'을 설정해도 저장 후 1로 초기화됨.
- **원인**: 백엔드 DB 모델(`max_daily_tickets`)과 API 스키마(`max_daily_plays`) 간의 필드명 불일치.
- **조치**: Pydantic 스키마에 `validation_alias="max_daily_tickets"`를 추가하여 매핑을 정상화했습니다.

### 4. 팀 배틀 생성 실패 수정
- **증상**: 새 시즌 생성 시 "ACTIVE_SEASON_CONFLICT" 오류 발생.
- **원인**: 이미 종료된 과거 시즌(ID 2)이 DB 상에서 여전히 `is_active=True`로 남아있어 충돌 발생.
- **조치**: DB 스크립트를 통해 해당 시즌을 비활성화 처리하여 새 시즌 생성이 가능하도록 조치했습니다.

## 로직 검증 및 Q&A

### 5. 볼트 출금 최소 금액
- **질문**: 10,000원 이상만 출금 가능한가요?
- **확인**: **네**, 코드 상 하드코딩된 최소 출금액이 10,000원으로 설정되어 있습니다.

### 6. 게임 플레이 제한
- **질문**: 계정당 게임 횟수 제한이 있나요?
- **확인**: **아니오**, 현재 룰렛과 주사위 모두 `0`(무제한)으로 설정되어 있습니다.

### 7. 지민 코드 지갑 미션 인증
- **질문**: "지민 코드 지갑 공유" 미션은 어떻게 인증하나요?
- **답변**: 현재 텍스트나 이미지 제출 기능이 없으므로, **"링크 열기(Link Action)"** 방식을 사용하여 사용자가 해당 페이지를 방문하면 자동 완료되도록 설정하는 것을 권장합니다. 철저한 검증이 필요하다면 관리자 수동 승인(`requires_approval=True`)을 켜야 하지만, 현재 승인 UI보다 자동 완료가 사용자 경험상 좋습니다.

### 8. 인벤토리(가방) 구현
- **상태**: 다이아몬드 키 등을 확인할 수 있는 인벤토리 기능은 현재 구현되어 있지 않으며, 추후 개발 예정 사항입니다.
